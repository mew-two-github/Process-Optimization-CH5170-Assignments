clear;
% minimise costs
sol = fmincon(@cost,90,0,80);
cost_sol = cost(sol);
L1 = 300; L2 = 500; L3 = 400;
Ho = 100; beta = 89; gamma = 81.5;
Q1  = 9; Q2 = 3; Q3 = 2;
D1 = (4.457*10^8)^(1/4.87)*(L1*Q1^1.85/(Ho-sol))^(1/4.87);
D2 = (4.457*10^8)^(1/4.87)*(L2*Q2^1.85/(sol-beta))^(1/4.87);
D3 = (4.457*10^8)^(1/4.87)*(L3*Q3^1.85/(sol-gamma))^(1/4.87);
function f = cost(HA)
    L1 = 300; L2 = 500; L3 = 450;
    Ho = 100; beta = 89; gamma = 81.5;
    Q1  = 9; Q2 = 3; Q3 = 2;
    f = 1.2654*L1*(4.457*10^8)^(1.327/4.87)*((L1*Q1^1.85/(Ho-HA)))^(1.327/4.87);
    f = f + 1.2654*L2*(4.457*10^8)^(1.327/4.87)*((L2*Q2^1.85/(HA-beta)))^(1.327/4.87);
    f = f + 1.2654*L3*(4.457*10^8)^(1.327/4.87)*((L3*Q3^1.85/(HA-gamma)))^(1.327/4.87);
end
    